<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Futuric-Login</title>
    
    <!-- Bootstrap 5 CDN-Import: -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta2/css/all.min.css" integrity="sha512-YWzhKL2whUzgiheMoBFwW8CKV4qpHQAEuvilg9FAn5VJUDwKZZxkJNuGM4XkWuk94WCrrwslk8yWNGmY1EduTA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <!-- Light-Theming: -->
    <link id="mainStyle" rel="stylesheet" href="static/css/style.css">
    <!-- Dark-Theming: -->
    <!-- Uncomment the line below to use dark theming. Don't forget to comment the line above.-->
    <!-- <link rel="stylesheet" href="static/css/style_dark.css"> -->
    <!-- this also works automatically by clicking the theme_button. -->
    <!-- Bootstrap 5 JS-Bundle CDN import: -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
</head>

<body>
 <div id="logindiv">
    <div  class="page-content d-flex align-items-center">
        <div class="container d-flex justify-content-center">
            <div class="col-12 col-sm-10 col-md-8 col-lg-7 col-xl-6 col-xxl-5">
                <div class="auth-card">
                    <div class="logo-area">
                        <!-- Light-Theming Logo: -->
                        <img id="header_logo" class="logo" src="static/img/blackrock.png" />
                        <!-- Dark-Theming: -->
                        <!-- <img class="logo" src="static/img/logo_dark.png" /> -->
                    </div>
                    <!-- Login-Form-->

                    <div>
                        <div class="mb-2 mt-5">
                            <input id="email" type="email" class="form-control auth-input" placeholder="E-Mail" aria-describedby="emailHelp">
                        </div>
                        <div class="mb-3">
                            <input id="password" type="password" class="form-control auth-input" placeholder="password">
                        </div>
                        <button id="submit_button" class="btn auth-btn mt-2 mb-4">Login</button>

                    </div>

                </div>
            </div>
        </div>
    </div>
</div>


    <div id="successdiv" >
        <div  class="page-content d-flex align-items-center">
            <div class="container d-flex justify-content-center">
                <div class="col-12 col-sm-10 col-md-8 col-lg-7 col-xl-6 col-xxl-5">
                    <div class="auth-card-sucess">

                        <input type="radio" name="bedStatus" id="allot" checked="checked" value="allot">Allot
                        <input type="radio" name="bedStatus" id="transfer" value="transfer">Transfer
 
                        <div id="sradio"> 
						    <div class="form-group">
							  <label for="cleinetname">Clinet Name:</label>
							  <input type="text" class="form-control" id="cleinetname" placeholder="Enter Clinet" name="cleinetname">
							</div>
							<div class="form-group">
							  <label for="sysaccount">System Account:</label>
							  <input type="text" class="form-control" id="sysaccount" placeholder="Enter Sys Account" name="sysaccount">
							</div>
							<div class="form-group">
							  <label for="safename">Safe Name:</label>
							  <input type="text" class="form-control" id="safename" placeholder="Enter Safe" name="safename">
							</div>
							<div class="form-group">
							  <label for="password">Password:</label>
							  <input type="password" class="form-control" id="passwordrem" placeholder="Enter password" name="password">
							</div>
							 <button id="remediate_button" class="btn auth-btn mt-2 mb-4">Submit</button>

						</div>
                        <div id="hradio"> 
						
							<div class="form-group">
							  <label for="cleinetname1">Clinet Name:</label>
							  <input type="text" class="form-control" id="cleinetname1" placeholder="Enter Clinet" name="cleinetname1">
							</div>
							<div class="form-group">
							  <label for="sysaccount1">System Account:</label>
							  <input type="text" class="form-control" id="sysaccount1" placeholder="Enter Sys Account" name="sysaccount1">
							</div>
							<div class="form-group">
							  <label for="safename1">Safe Name:</label>
							  <input type="text" class="form-control" id="safename1" placeholder="Enter Safe" name="safename1">
							</div>
							<div class="form-group">
							  <label for="password1">Current Password:</label>
							  <input type="password" class="form-control" id="password1" placeholder="Current password" name="password1">
							</div>
							<div class="form-group">
							  <label for="password2"> New Password:</label>
							  <input type="password" class="form-control" id="password2" placeholder="Enter password" name="password2">
							</div>
							<div class="form-group">
							  <label for="password3"> Cinfirm New Password:</label>
							  <input type="password" class="form-control" id="password3" placeholder="Enter password" name="password3">
							</div>
							 <button id="pass_button" class="btn auth-btn mt-2 mb-4">Submit</button>

						
						</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <button id="theme_button" class="btn btn-theme" onclick="onThemeChange()">
        <i id="theme_icon" class="fas fa-moon"></i>
    </button>


    <script type="text/javascript">
        function onThemeChange() {
            let cssStyleSheet = document.getElementById("mainStyle");
            let path = (cssStyleSheet.href).substring((cssStyleSheet.href).length-9, (cssStyleSheet.href).length);
            if(path === "style.css") {
                cssStyleSheet.href = "static/css/style_dark.css";
                document.getElementById("header_logo").src = "static/img/logo_dark.png";
                document.getElementById("theme_icon").className = "fas fa-sun";
            } else {
                cssStyleSheet.href = "static/css/style.css";
                document.getElementById("header_logo").src = "static/img/logo.png";
                document.getElementById("theme_icon").className = "fas fa-moon";
            }
        }

        $(document).ready(function () {
            $("#submit_button").click(function () {
                var email = $("#email").val();
                var passowrd = $("#password").val();
                var data={"email":email,"passwd":passowrd} 
				  $.ajax({
							 type: "POST",
							 url: "http://127.0.0.1:8080/",
							 data: JSON.stringify(data),// now data come in this function
							 contentType: "application/json; charset=utf-8",
							 crossDomain: true,
							 dataType: "json",
							 success: function (data, status, jqXHR) {
                                 alert('success' +  JSON.stringify(data));
								 $("#successdiv").show();

							 },
							 error: function (jqXHR, status) {
								 console.log(jqXHR);
								 alert('fail' + status.code);
							 }
						  });
		  
                $("#logindiv").hide();
                $("#sradio").show();
                $("#hradio").hide();
            });


    $('input:radio[name=bedStatus]').change(function() {
         if (this.value == 'allot') {
            $("#sradio").show();
            $("#hradio").hide();
            $("#logindiv").hide();

        }
         else if (this.value == 'transfer') {
            $("#sradio").hide();
            $("#hradio").show();   
            $("#logindiv").hide();
			
         }

    });
	
	
	
	$("#remediate_button").click(function () {
                var sysaccount = $("#sysaccount").val();
				var safename = $("#safename").val();
				var cleinetname = $("#cleinetname").val();
                var passowrd = $("#password").val();
				var ownerid = "ownerid"

                var data={"sysaccount":sysaccount,"passowrd":passwordrem,"safename":safename,"client":cleinetname,"ownerid":ownerid} 
				
				  $.ajax({
							 type: "POST",
							 url: "http://127.0.0.1:8080/remediate",
							 data: JSON.stringify(data),// now data come in this function
							 contentType: "application/json; charset=utf-8",
							 crossDomain: true,
							 dataType: "json",
							 success: function (data, status, jqXHR) {
                                 alert('success' +  JSON.stringify(data));
							 },

							 error: function (jqXHR, status) {
								 console.log(jqXHR);
								 alert('fail' + status.code);
							 }
						  });
		  
            });


	   $("#pass_button").click(function () {
                var sysaccount = $("#sysaccount1").val();
				var safename = $("#safename1").val();
				var cleinetname = $("#cleinetname1").val();
                var cur_passowrd = $("#password1").val();
				var new_passowrd = $("#password2").val();

				var ownerid = "ownerid"

                var data={"sysaccount":sysaccount,"curpassowrd":cur_passowrd,"safename":safename,"client":cleinetname,"ownerid":ownerid,"newpassowrd":new_passowrd } 
				
				  $.ajax({
							 type: "POST",
							 url: "http://127.0.0.1:8080/changepwd",
							 data: JSON.stringify(data),// now data come in this function
							 contentType: "application/json; charset=utf-8",
							 crossDomain: true,
							 dataType: "json",
							 success: function (data, status, jqXHR) {
                                 alert('success' +  JSON.stringify(data));
							 },

							 error: function (jqXHR, status) {
								 console.log(jqXHR);
								 alert('fail' + status.code);
							 }
						  });
		  
            });


});


        
    </script>



</body>
</html>
